
<button class="uk-button uk-button-primary" (click)="showForm()">{{ formText.get('b_add') }}</button>

<table class="uk-table uk-table-middle">
    <thead>
        <tr>
            <th>#</th>
            <th>Tytuł</th>
            <th>Opis</th>
            <th>Autor</th>
            <th>Strony</th>
            <th>Stan</th>
            <th>Opcje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let scenario of scenarios; let i = index;">
            <td>{{ i }}</td>
            <td>{{ scenario.title }}</td>
            <td>{{ scenario.description }}</td>
            <td>{{ scenario.authorEmail }}</td>
            <td>{{ scenario.pages }}</td>
            <td>{{ scenario.state }}</td>
            <td><button class="uk-button uk-button-default" type="button" (click)="deleteScenario();">Usuń</button></td>
        </tr>
    </tbody>
</table>

<form [formGroup]="pdfForm" (ngSubmit)="submitPDF(pdfForm.value)" *ngIf="formVisible">
    <fieldset class="uk-fieldset">
        <div class="uk-margin">
            <input formControlName="title" class="uk-input" type="text" placeholder="Tytuł"
            [ngClass]="{'has-error': hasError('title')}">

            <span *ngIf="hasError('title')" class="validation-info">{{ formText.get('required') }} {{ formText.get('title') }}</span>
        </div>
        <div class="uk-margin">
            <input formControlName="authorEmail" class="uk-input" type="text" placeholder="E-mail (autora)"
             [ngClass]="{'has-error': hasError('authorEmail')}">

            <span *ngIf="hasError('authorEmail')" class="validation-info">{{ formText.get('required') }} {{ formText.get('authorEmail') }}</span>
        </div>
        <div class="uk-margin">
            <input formControlName="authorEmailConfirm" class="uk-input" type="text" placeholder="Powtórz email"
             [ngClass]="{'has-error': hasError('authorEmailConfirm')}">

            <span *ngIf="hasError('authorEmailConfirm')" class="validation-info">{{ formText.get('required') }} {{ formText.get('authorEmailConfirm') }}</span>
        </div>
        <div class="uk-margin">
            <select formControlName="state" class="uk-select" [ngClass]="{'has-error': hasError('state')}">
                <option *ngFor="let option of scenarioStates" [disabled]="isDefaultOption(option)">
                    {{option}}
                </option>
            </select>

            <span *ngIf="hasError('state')" class="validation-info">{{formText.get('required')}}</span>
        </div>
        <div class="uk-margin">
            <textarea formControlName="description" class="uk-textarea" [ngClass]="{'has-error': hasError('description')}" rows="5" placeholder="Krótki opis"></textarea>
            <span *ngIf="hasError('description')" class="validation-info">{{ formText.get('required') }} {{ formText.get('description') }}</span>
        </div>
        <div class="uk-margin">
            <button type="button" class="uk-button uk-button-primary" (click)="triggerUpload()">{{ formText.get('b_upload') }}</button> {{ fileName }}
            <input #fileInputNode id="file" type="file" accept="{{acceptableExtension}}" (change)="fileChangeEvent($event,this)"/><br>
            <span [hidden]="fileBlob">{{ formText.get('file') }}</span>
        </div>
        <div class="uk-margin">
            <span *ngIf="!isFormValid() && pdfForm.dirty">{{ formText.get('cannotSubmitted') }}</span>
        </div>
    </fieldset>
    <button type="submit" class="uk-button uk-button-primary" [disabled]="!isFormValid()" (click)="showAlert()">{{ formText.get('b_submit') }}</button>
    <button type="button" class="uk-button uk-button-default" [hidden]="pdfForm.pristine" (click)="resetForm()">{{ formText.get('b_reset') }}</button>
</form>
